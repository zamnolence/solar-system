{% extends 'base.html' %}

{% block head %}
<title>Result | Solar System Quiz</title>
{% endblock %}

{% block body %}
<div class="container result-container">

    <!-- Results  -->
    <h2 class="result-module"><i class="fa fa-star fa-fw"></i>&nbsp;{{ moduleName }}&nbsp;<i class="fa fa-star fa-fw"></i></h2>

    <div class="row">
        <div class="col-xs-8">
            <h3 class="result-score">Score: {{ latestScore.score }} <br> ({{ timeTaken }})</h3> 
        </div>
        <div class="col-xs-4">
            <a href='/'><button class="restart-button">Restart</button></a>
        </div>
    </div>

    <!-- Rank -->
    <h2 class="result-scoreboard">&nbsp;&nbsp; Scoreboard (Top 10)</h2>
    <table class="result-table">
        <thead>
            <tr>
                <th>Username</th>
                <th>Score</th>
                <th>Time</th>
            </tr>
        </thead>
        <tbody>
        {% for score in scoreSorted %}
        {%  if loop.index <= 10  %}   <!-- Show top 10 -->
            <tr>
                {% if current_user.id == score.user_parent.id %}
                <td>{{ score.user_parent.username }} (You)</td>
                {% else %}
                <td>{{ score.user_parent.username }}</td>
                {% endif %}
                <td>{{ score.score }}</td>
                <td>{{ score.time_taken }}</td>
            </tr>
        {% else %}
        {% endif %}
        {% endfor %}
        </tbody>
    </table>

</div>

{% endblock %}